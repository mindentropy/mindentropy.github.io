---
layout: post
title: Android AOSP Nougat Build and Jack "Out of Memory" issue resolution.
date: '2018-01-23T20:08:00.002+05:30'
author: Gautam Bhat
tags: 
modified_time: '2018-03-10T19:17:39.784+05:30'
blogger_id: tag:blogger.com,1999:blog-2655423030126048565.post-9118291791242261642
blogger_orig_url: https://thesoulofamachine.blogspot.com/2018/01/android-aosp-nougat-build-and-jack-out.html
---

<div dir="ltr" style="text-align: left;" trbidi="on"><span style="font-size: small;"><span style="font-family: &quot;verdana&quot; , sans-serif;">I had downloaded Android Nougat before and had failed miserably with Jack. It used to always give me a "Out of memory" error. I have an Intel Quad Core Q8200 2.33GHz laptop with 4GB of RAM.</span></span><br /><span style="font-size: small;"><span style="font-family: &quot;verdana&quot; , sans-serif;"><br /></span></span><span style="font-size: small;"><span style="font-family: &quot;verdana&quot; , sans-serif;">Looking around I found a post by Chris Simmonds in his blog which said which says to increase the memor</span></span><span style="font-size: small;"><code><span style="font-family: &quot;verdana&quot; , sans-serif;">y</span><span style="font-size: xx-small;"><span style="font-family: &quot;verdana&quot; , sans-serif; font-size: xx-small;">&nbsp; </span><span style="font-family: &quot;verdana&quot; , sans-serif; font-size: small;">using the JACK_SERVER_VM_ARGUMENTS environment variable. I set the following value in my ~/.jack_settings i.e. max memory to 3GB:</span></span></code></span><br /><!-- HTML generated using hilite.me --><br /><div style="background: #ffffff; border-width: 0.1em 0.1em 0.1em 0.8em; border: solid gray; overflow: auto; padding: 0.2em 0.6em; width: auto;"><table><tbody><tr><td><pre style="line-height: 125%; margin: 0;">1</pre></td><td><pre style="line-height: 125%; margin: 0;">JACK_SERVER_VM_ARGUMENTS="-Dfile.encoding=UTF-8 -XX:+TieredCompilation -Xmx3g"<br /></pre></td></tr></tbody></table></div><span style="font-size: small;"></span>&nbsp; <span style="font-size: small;"><br /></span><span style="font-size: small;"><code><span style="font-size: normal;"><span style="font-family: &quot;verdana&quot; , sans-serif;">While  compilation I still had problems with JACK Server having communication  problems. I further reduced the JACK compile jobs to by setting the  SERVER_NB_COMPILE=1 in ~/.jack_settings.</span></span></code></span><br /><span style="font-family: &quot;verdana&quot; , sans-serif; font-size: small;"><br /></span><span style="font-size: small;"><code><span style="font-family: &quot;verdana&quot; , sans-serif;">Please see reference 3 where the Google documentation for JACK is updated and it details on different parameters JACK. </span></code></span><br /><span style="font-family: &quot;verdana&quot; , sans-serif; font-size: small;"><code><span style="font-size: xx-small;"><span style="font-family: &quot;verdana&quot; , sans-serif;"><br /></span></span></code></span><span style="font-size: small;"><code><span style="font-family: &quot;verdana&quot; , sans-serif;">I am not sure whether the problem was resolved by installing </span></code></span><br /><span style="font-size: small;"><code><span style="font-size: normal;"><span style="font-family: &quot;verdana&quot; , sans-serif;">ibcurl4-openssl-dev and nss-updatedb packages but it is worth to give a try.</span></span></code></span><br /><span style="font-family: &quot;verdana&quot; , sans-serif; font-size: normal;"><code><span style="font-size: normal;"><span style="font-family: &quot;verdana&quot; , sans-serif;"><br /></span></span></code></span><span style="font-size: normal;"><code><span style="font-family: &quot;verdana&quot; , sans-serif;">After this I was able to completely build Nougat and boot it up using my emulator. The final aim is to understand how to boot Nougat on the Beaglebone.</span></code></span><br /><span style="font-size: normal;"><code><span style="font-size: normal;"><span style="font-family: &quot;verdana&quot; , sans-serif;"><br /></span></span></code></span><span style="font-size: small;"><code><span style="font-size: normal;"><span style="font-family: &quot;verdana&quot; , sans-serif;">Reference:</span></span></code></span><br /><ol style="text-align: left;"><span style="font-size: small;"></span><li><span style="font-size: small;"><code><span style="font-size: normal;"><span style="font-family: &quot;verdana&quot; , sans-serif;">Chris simmonds post: <a href="http://www.2net.co.uk/blog/jack-server.html">http://www.2net.co.uk/blog/jack-server.html</a></span></span></code></span></li><span style="font-size: small;"></span><li><span style="font-size: small;"><code><span style="font-size: normal;"><span style="font-family: &quot;verdana&quot; , sans-serif;">Google groups post: <a href="https://groups.google.com/forum/#!topic/android-building/8SQ0-4zZDo8">https://groups.google.com/forum/#!topic/android-building/8SQ0-4zZDo8</a></span></span></code></span></li><span style="font-size: normal;"></span><li><span style="font-size: normal;"><code><span style="font-size: normal;"><span style="font-family: &quot;verdana&quot; , sans-serif;">Google Gerrit Jack Documentation change: <a href="https://android-review.googlesource.com/c/platform/prebuilts/sdk/+/233481">https://android-review.googlesource.com/c/platform/prebuilts/sdk/+/233481</a></span></span></code></span></li></ol><code><span style="font-size: normal;"><span style="font-family: &quot;verdana&quot; , sans-serif;"><br /></span></span></code></div>